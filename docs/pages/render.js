import{colors}from"./colors";import{resize_square,stroke_circle,stroke_circle_2,fill_circle_2,clear,line,fill_text}from"./canvas";import{wrap_around,delta,add,mul,del}from"./math";const render_skeleton=(l,e,o,r,d,i)=>{clear(l);for(let o of e)o.deleted||(o.activated&&"booster"==o.kind?(fill_circle_2(l,add(o.p,mul(o.direction,.007+.003*Math.random())),.7*o.d,colors[o.kind].value_3),fill_circle_2(l,add(o.p,mul(o.direction,.005+.001*Math.random())),.9*o.d,colors[o.kind].value_2),fill_circle_2(l,o.p,o.d,colors[o.kind].value_1)):fill_circle_2(l,o.p,.75*o.d,colors[o.kind].value),o.binding&&fill_text(l,o.p,o.binding,20,"#222"));for(let e of o)stroke_circle_2(l,e.p,.75*e.d,colors[e.kind].value);for(let e of r)stroke_circle_2(l,e.p,.75*e.d,colors[e.kind].value);stroke_circle_2(l,d,.01,"#222"),stroke_circle_2(l,d,.013,"#ffa");for(let e of i)e.deleted||fill_circle_2(l,e.p,.75*e.d,"#8e8")},render=(l,e,o)=>{for(let o of e)o.deleted||(o.activated&&"booster"==o.kind?(fill_circle_2(l,add(o.p,mul(o.direction,.007+.003*Math.random())),.7*o.d,colors[o.kind].value_3),fill_circle_2(l,add(o.p,mul(o.direction,.005+.001*Math.random())),.9*o.d,colors[o.kind].value_2),fill_circle_2(l,o.p,o.d,colors[o.kind].value_1)):fill_circle_2(l,o.p,o.d,colors[o.kind].value));for(let r of Object.keys(colors))for(let d of o){if(d.deleted)continue;const o=e[d.a],i=e[d.b],c=wrap_around(o.np,i.np),t=mul(delta(c.a,c.b),.5),a=colors[o.kind].score>colors[i.kind].score?o.kind:i.kind;if(r==a){const e=colors[a].value,r=.75;fill_circle_2(l,add(o.p,t),o.d*r,e),fill_circle_2(l,del(i.p,t),i.d*r,e)}}for(let l of o){const o=e[l.a],r=e[l.b],d=wrap_around(o.np,r.np);delta(d.a,d.b)}for(let l of e);};export{render,render_skeleton};