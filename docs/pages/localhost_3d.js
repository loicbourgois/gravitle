import*as webgpu_server from"../webgpu_server";import*as webgpu_renderer from"../webgpu_renderer";import*as canvas_renderer from"../canvas_renderer";import*as three_renderer from"../three/renderer";import{last,len,player_id}from"../util";function localhost_3d(){document.getElementById("content").innerHTML='  <canvas id="canvas"></canvas>\n  <div id="panel">\n    <canvas id="minimap"></canvas>\n    <p id="p_step"></p>\n    <p id="p_fps"></p>\n    <p id="p_render_duration"></p>\n    <p id="p_cps"></p>\n    <p id="p_compute_duration"></p>\n    <p id="p_pids"></p>\n  </div>\n';let e=new WebSocket("ws://127.0.0.1:8000/ws"),n={};e.onopen=function(n){console.log("[open] Connection established"),console.log("Sending to server"),e.send(JSON.stringify({request:"create_sender",uuid:player_id()}))},e.onmessage=function(e){n=e.data},e.onclose=function(e){e.wasClean?console.error(`[close] Connection closed cleanly, code=${e.code} reason=${e.reason}`):console.error("[close] Connection died")},e.onerror=function(e){console.error(`[error] ${e.message}`)},three_renderer.start({pull:function(){return n},fps_counter_length:100,fps_counter:[],image_width:512,image_height:512,fov:65,clipping:{near:.01,far:5}})}export{localhost_3d};